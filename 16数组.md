## 16 数组

参考笔记：https://my.oschina.net/u/2453016/blog/706421

### 16.1 数组为什么特殊
数组与其他种类的容器之间的区别有三方面：效率、类型和保存基本类型的能力。在Java中数组是一种效率最高的存储和随机访问对象引用序列的方式。数组就是一个简单的线性序列，这使得元素访问非常快速。但是为这种速度所付出的代价是数组对象的大小被固定，并且在其生命周期中不可改变。

泛型的出现使得容器也具备了类型检查的能力，而自动装箱机制使容器可以与数组几乎一模一样的用于基本类型，数组的硕果仅存的优点就是效率。

### 16.2 数组是第一级对象
在声明数组时可采用“聚集初始化”方法：
```
int[] integers = {0, 1, 2, 3, 4};
```
但是如果不在声明时初始化则必须采用“动态聚集初始化”方法：
```
int[] integers;
integers = new int[] {0, 1, 2, 3, 4};
```

### 16.3 返回一个数组
C/C++：返回数组的指针，使得控制数组的生命周期变得困难，并且容易造成内存泄漏

Java：直接“返回一个数组”，无需担心要为数组负责：需要时一直存在，使用完后垃圾回收器清理。返回一个数组和返回任何其他对象（实质上是返回引用）没有什么区别。

### 16.4 多维数组
创建多维数组：
```
int[][] a = {
    {1, 2, 3},
    {4, 5, 6}
};
```

```
int[][][] a = new int[2][2][4];
```

数组中构成矩阵的每个向量都可以具有任意的长度（粗糙数组）：
```
int[][][] a = new int[rand.nextInt(7)][][];
for (int i = 0; i < a.length; i++) {
    a[i] = new int[rand.nextInt(5)][];
    for (int j = 0; j < a[i].length; j++) {
        a[i][j] = new int[rand.nextInt(6)];
    }
}
```

自动包装机制对数组初始化器也有作用

``Arrays.deepToString()``方法能够将多维数组转换为可读的String，对用户基本类型数组和对象数组都起作用。

非基本类型的多维数组会自动被初始化为``null``

### 16.5 数组与泛型

